<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="layout/layout::head">
        <meta charset="UTF-8"/>
        <title th:text="${titulo}">TODO write content</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>
        <header th:replace="layout/layout::header"></header>

        <div class="container py-4">

            <div class="card bg-light">
                <div class="card-header" th:text="${titulo}"></div>
                <div class="card-body">
                    
                <h4 class="card-title">
                    <a th:href="@{/index}" class="btn btn-primary btn-xs">Registrar Cita</a>
                </h4>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            
                            <th>Medico</th>
                            <th>Motivo</th>
                            <th>Fecha</th>
                            <th>Hora Inicio</th>
                            <th>Hora Fin</th>
                            
                            <th></th>
                            <th>Opciones</th>
                            <th></th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="cita: ${citas}">
                            
                            <td th:text="${cita.medico}"></td>
                            <td th:text="${cita.motivoCita}"></td>
                            <td th:text="${cita.fechaCita}"></td>
                            <td th:text="${cita.citaInicio}"></td>
                            <td th:text="${cita.citaFin}"></td>
                            <td><a class="btn btn-primary btn-s" th:href="@{/formCitas/} + ${cita.idCita}" th:text="'editar'"></a></td>
                            <td><a class="btn btn-danger btn-s" th:href="@{/eliminarCita/} + ${cita.idCita}" th:text="'eliminar'" onclick="return confirm('Â¿Estas seguro que quieres eliminar la Cita?');"></a></td>

                        </tr>
                        
        <!--                
                         <tr th:each="cita, iStat : ${citas}">
                                                    <td>

                                                        <a class="btn btn-outline-info btn-xs" 
                                                           th:href="@{'/Recepcionista/detalleCita/' + ${cita.citId}}">
                                                            <i class="fa fa-eye" style="font-size: 15px"></i>
                                                            <span class="btn-text">Ver</span>
                                                        </a>
                                                    </td>
                                                    <td th:text="${cita.paciente.pacNombre}+ ' ' + ${cita.paciente.pacApellido}"></td>
                                                    <td th:text="${cita.citFechaHoraInicio}"></td>
                                                    <td th:text="${cita.citFechaHoraFin}"></td>
                                                    <td th:text="${cita.estadoCita.estCitNombreEstado}"></td>
                                                    <td><a class="btn btn-outline-primary btn-xs"  th:if="${cita.estadoCita.estCitId == 2}"
                                                           th:href="@{'/Recepcionista/ActualizarCita/' + ${cita.citId}}">
                                                            <i class="fa fa-edit" style="font-size: 15px"></i>
                                                            <span class="btn-text">Actualizar</span></a></td>

                                                    <td  >
                                                        <a th:if="${cita.estadoCita.estCitId==2}"
                                                           th:href="@{'/Recepcionista/esperaCita/' + ${cita.citId}}" class="btn btn-outline-success btn-xs"
                                                           onclick="return confirm('El pacienete esta en espera?');">
                                                            <i class="fa fa-arrow-right" style="font-size: 15px"></i>
                                                            <span class="btn-text">En espera</span></a>
                                                                                                                
                                                        <a th:if="${cita.estadoCita.estCitId  <= 3}"
                                                           th:href="@{'/Recepcionista/CancelarCita/' + ${cita.citId}}" class="btn btn-outline-danger btn-xs"
                                                           onclick="return confirm('estas seguro que deseas Cancelar la Cita??');">
                                                            <i class="fa fa-times" style="font-size: 15px"></i>
                                                            <span class="btn-text">Bloquear</span></a>
                                                        <a th:if="${cita.estadoCita.estCitId == 4}"
                                                           th:href="@{'/Recepcionista/CancelarCita/' + ${cita.citId}}" class="btn btn-outline-success btn-xs"
                                                           onclick="return confirm('estas seguro que deseas Habilitar la Cita??');">
                                                            <i class="fa fa-unlock" style="font-size: 15px"></i>
                                                            <span class="btn-text">Habilitar</span></a>
                                                            
                                                            
                                                            
                                                            
                                                            
                                                    </td>
                                                </tr>
                        -->
                        
                        
                        
                    </tbody>
                </table>
                    <nav th:replace="paginator-nav :: paginator"></nav>
                </div>
            </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>



    </body>
</html>
